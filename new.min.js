!function(){function u(o,i,c,s,n){var r={};if("object"==typeof n){r={colno:e(n.columnNumber)?s:n.columnNumber,lineno:e(n.lineNumber)?c:n.lineNumber,filename:e(n.fileName)?i:n.fileName,message:e(n.message)?o:n.message,stack:n.stack};for(var t=0,f=a.length;f>t;t++)if(window[a[t]]&&n instanceof window[a[t]]){r.type=t;break}}else r="object"==typeof o?o:{colno:s,lineno:c,filename:i,message:o};return r.stack||(Error.captureStackTrace?(Error.captureStackTrace(n,u),r.stack=n.stack):r.stack=Error().stack,r.stack&&(e(window.Components)?e(window.chrome)||(r.stack=r.stack.replace(/\n[^\n]*/,"")):r.stack=r.stack.substring(r.stack.indexOf("\n")+1))),r.stack&&(r.stack=r.stack.substr(0,500)),r}function e(e){return void 0===e}function v(i){for(var r=[],a=[],o=["message","filename","lineno","colno","stack","type"],t=0,c=o.length;c>t;t++){var n=o[t];e(i[n])?a.push("no_"+n):r.push(n.slice(0,1)+":"+n)}return r=r.join(","),{msg:r,interval:a}}function g(e){if(e&&"string"==typeof e){for(var r=0,n=c.length;n>r;r++)if(e.match(c[r]))return!1;return!0}return!1}function t(o,t,a){var e,s,l,i=o,c=1;if("object"==typeof o)for(var r in o)o.hasOwnProperty(r)&&(i=r,c=o[r]);var u=typeof t;switch(u){case"string":e=t+":1";break;case"object":if(k(t))e=t.join(":1,")+":1";else{e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r+":v");e=e.join(",")}break;default:i="fuckup",c=1,e="reporter",a={fuckup:"no case to handle interval type "+u}}if("object"==typeof a)for(var r in a)a.hasOwnProperty(r)&&(s="otvet-"+r,l=a[r]);var n={p:f,t:i,v:c};e&&(n.i=e),s&&(n.rlog=s,n.rlog_message=l,n.email=window.CURRENT_USER?window.CURRENT_USER.email:"",n.ua=1),h(n)}function d(e){if("object"==typeof e){var r=JSON.stringify(e),n=JSON.stringify({p:f,t:"kaktam",v:1,i:"sendBeacon:1"});setTimeout(function(){navigator.sendBeacon(i,r),navigator.sendBeacon(i,n)},0)}}function p(e){if("object"==typeof e){var r=new Image;r.onerror=function(){return t("kaktam","error")},r.onload=function(){return t("kaktam","load")};var n=[];for(var a in e)n.push(a+"="+e[a]);var o=i+"?"+n.join("&");setTimeout(function(){return r.src=o},0)}}function m(){var r,n=navigator.userAgent,e=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(e[1])?(r=/\brv[ :]+(\d+)/g.exec(n)||[],"IE "+(r[1]||"")):"Chrome"===e[1]&&(r=n.match(/\b(OPR|Edge)\/(\d+)/),null!=r)?r.slice(1).join(" ").replace("OPR","Opera"):(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(r=n.match(/version\/(\d+)/i))&&e.splice(1,1,r[1]),e)}function l(){var e=navigator.userAgent;return e.match(/windows|win32/)?"win":e.match(/macintosh|mac os x/)?"mac":e.match(/linux/)?"linux":e.match(/adobeair/)?"adobeair":"unknown"}var r,n,s=window.RELEASE_ID,i="//otvet.radar.imgsmail.ru/update",f="otvet",o="before",a=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],c=["zStartIndexer","evalSmlo","SwfStore","DealPly","Object.parse","Script error","night_mode_disable","atomicFindClose","captureReady","Недостаточно места на диске","MailRuApi is not defined","getLoginButtonSignatureCodes","clearOverlappingSelection","onReceivedTouchIcons","The system cannot find the path specified","SelectedDivWithSearchText","'ucwp' is undefined","__gCrWeb"],h="sendBeacon"in navigator?d:p,k=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};window.onload=function(){o="after"},window.onerror=function(f,p,d,h,k){var i=u(f,p,d,h,k),a=[];if(e(r)&&(r=m()),e(n)&&(n=l(),"unknown"===n&&navigator.userAgent&&t("debug","unknown-platform",{platform:navigator.userAgent})),r[0]&&a.push(r[0]),r[1]&&a.push(""+r.join("-")),n&&"unknown"!==n&&a.push(n),g(i.message)){var c=v(i),w=c.msg,b=c.err_stats;t("error",a.concat(b,[o,s]),{error:w})}else t("error",a.concat(["garbage",o,s]))}}();
